<style>
	main {
		height: 100vh;
		display: flex;
		flex: 1;
		flex-direction: column;
	}
</style>

<main>
	<Drawer />
	<Hero />
	<Week />
	<Toastr />
</main>

<script>
	import { globalStore } from './stores';
	import Drawer from './components/Drawer';
	import Hero from './components/Hero';
	import Toastr from './components/Toastr';
	import Week from './components/Week';
	export default {
		components: {
			Drawer,
			Hero,
			Toastr,
			Week,
		},
		oncreate() {
			this.init();
		},
		methods: {
			async init() {
				globalStore.setToastrOpen({ message: 'We be loadin khedd' });
				// 1. fetch users location
				await globalStore.getUserLocation();
				// 2. fetch city image
				await globalStore.getCityImage();
				// 3. fetch weather endpoints (daily & weekly)
				await globalStore.getWeather();

				globalStore.setToastrClose();
			}
		}
	}
</script>